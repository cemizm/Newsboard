swagger: '2.0'
info:
  description: Crawler Schnittstelle zum KI-NewsBoard.
  version: 1.0.0
  title: NewsBoard
basePath: /crawler
schemes:
  - http
consumes:
  - application/json
produces:
  - application/json
paths:
  /news:
    post:
      summary: Veröffentlich einen News Eintrag
      parameters:
        - name: news
          in: body
          description: Der News Eintrag der veröffentlicht werden soll
          required: true
          schema:
            $ref: '#/definitions/News'
      responses:
        200:
          description: News Eintrag erstellt.
        400:
          description: Fehlerhafte Anfrage
        401:
          description: Ungültiger Token
      security:
        - token: []
securityDefinitions:
  token:
    description: |
      ** Token basierte Authentifizierung **


      Der Zugriff auf die Schnittstelle ist mit einem Token geschützt. Dieser kann durch den Administrator generiert werden.

      Der Token wird im Header der HTTP(S)-Anfrage übermitellt.
    type: apiKey
    name: token
    in: header
definitions:
  News:
    type: object
    properties:
      id:
        type: string
        description: Die Id muss einen Crawler Ergebnis global eindeutig identifizieren, so dass Überschneidungen zwischen Crawlern ausgeschlossen werden können. Hierzu könnte bspw. die URL gehasht werden so das identische Crawler Ergebnise gemergt/ignoriert werden.
      title:
        type: string
      image:
        type: string
      content:
        type: string
      source:
        type: string
      url:
        type: string
      date:
        type: string
        format: dateTime
