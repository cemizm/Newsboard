# Newsboard client library (javascript)
Library to get un-analyzed news entries from the Newsboard, publish sentiment scoring results and news entries.
 
## Prerequisites
add following dependencies to your project
```
"dependencies": {
    "node-rest-client": "2.0.1",
    "request": "2.79.0"
  }
```

## Usage
Client instance with the host/url to the NewsBoard WebService and token generated by an administrator.
``` javascript
var NewsboardClient = require('../../libs/js/client.js');
var client = new NewsboardClient("http://localhost:8080", "YOUR TOKEN GOES HERE");
```

Use `getNewsEntries()` to get all un-analyzed news entries for the given token.
``` javascript
client.getNewsEntries(function (items) {
    items.forEach(function (entry) {
        console.log(entry.title);
    });
});
```

To publish new sentiment scoring results use `publishResult(id, result)` with the id of the news entry.
``` javascript
var result = {
            "value": getRandomInt(-100, 100),
            "date": (new Date()).toJSON(),
            "sentenceResults": []
        };

result.sentenceResults.push({
    "charStart": start,
    "charEnd": start + sentence.length,
    "value": getRandomInt(-100, 100)
});

client.publishResult("mt-21731035", result);
```

To publish news entries use `publish_news(entry)`.
``` javascript
var entry = {
    id: guid(), // unique id
    date: (new Date()).toJSON(),
    content: "plain or html content",
    image: "url to image",
    title: "title of the news entry",
    source: "my first crawler",
    url: "http://path.to/newsource"
};

client.publishNewsEntry(entry, function (data, response) {
    if (response.statusCode != 200) return console.log("Crawler Error (" + response.statusCode + "): " + data.message);

    console.log("Crawler published: " + entry.title)
});
```